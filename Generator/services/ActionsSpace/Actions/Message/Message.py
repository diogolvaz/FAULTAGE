##################################################################################################################################
#
#   IMPORTS
#
##################################################################################################################################

#
import inputs.GenerationInputs as GenerationInputs
import copy
#

##################################################################################################################################
#
#   CLASS
#
##################################################################################################################################


class MESSAGE():

    ##################################################################################################################################
    #
    #   VARIBLES
    #
    ##################################################################################################################################

    # message type to wait
    _message_type = None

    # reward associated with the message
    _reward = None

    # value of the message
    _value = None

    ##################################################################################################################################
    #
    #   CONSTRUCTOR
    #
    ##################################################################################################################################

    def __init__(self, value=None, message_type=None):
        self.setType(message_type)
        self.setReward(GenerationInputs.getMessageTypeReward())
        self.setValue(value)

    ##################################################################################################################################
    #
    #   GET
    #
    ##################################################################################################################################

    def getLabel(self):
        if self.getType() == None:
            return "<"+str(self.getValue())+">"
        else:
            return "<"+str(self.getType().getLabel())+","+str(self.getValue())+">"

    # ----------------------------------------------------------------

    def getType(self):
        return self._message_type

    # ----------------------------------------------------------------

    def getReward(self):
        return self._reward

    # ----------------------------------------------------------------

    def getJsonFormat(self):
        type = {"value": "None", "status": "None"}
        value = "None"
        if self.getType() != None:
            type = self.getType().getJsonFormat()
        if self.getValue() != None:
            value = self.getValue()
        return {"value": value, "message_type": type}

    # ----------------------------------------------------------------

    def getCopy(self):
        return copy.deepcopy(self)

    # ----------------------------------------------------------------

    def getValue(self):
        return self._value

    ##################################################################################################################################
    #
    #   SET
    #
    ##################################################################################################################################

    def setType(self, message_type):
        self._message_type = message_type

    # ----------------------------------------------------------------

    def setReward(self, value):
        if self.getType() == None:
            self._reward = 0
        else:
            self._reward = self.getType().getValue()*value

    # ----------------------------------------------------------------

    def setValue(self, value):
        self._value = value

    ##################################################################################################################################
    #
    #   AUXILIAR
    #
    ##################################################################################################################################

    def __eq__(self, message):
        return not message == None and self.getType() == message.getType() and self.getValue() == message.getValue()
